<h3> 1. 주제 선정 이유 </h3>

최근 몇 년간 대한민국에서 다양한 재난 소식이 들려오고 있다. 2019년도에는 속초 지역에 화재가 났고, 2016년과 2017년도에는 지진이 심하게 발생했다. 후자의 경우에는 재난으로 인해 수능을 일주일 연기하는 등의 일도 있었으며 국가적 재난 급의 사고가 아니더라도 미세먼지나 폭우, 폭염, 가뭄, 한파 등의 다양한 재난이 대한민국에 시시각각 다가오고 있다.

국가 차원에서는 이러한 재난에 대비하기 위해 여러가지 정책을 세우고 있지만 그 중에서도 해당 재난 지역 주민의 신속한 대피 및 대처를 위해 재난 및 안전관리 기본법 제 38조에서는 예보, 통보, 응급조치를 실시하기 위해 전기통신사업자 중 대통령령으로 정하는 주요 전기통신사업자에 대한 필요한 정보의 문자나 음성을 송신하게 되어있다. 흔히 말하는 '긴급재난문자'가 이에 속하며, 2016년의 지진을 기준으로 보완되었다.

하여 본 프로젝트에서는 '긴급재난문자'가 실제로 재난 예방 혹은 응급조치에 도움이 되는지 알아보기 위해 실제 자연재해 상황 중 긴급재난문자가 발송되었던 재해와 발송되지 않았던 재해의 피해 정도를 비교하여 긴급재난문자가 효과가 있는지 확인하고, 재해의 피해정도와 재난문자 발송의 상관관계를 확인한다.


<h3> 2. 가설 정의 </h3>

공공데이터포털에서 얻은 '재난상황전파 메세지정보 서비스' 데이터와 '자연재해상황 정보 조회 서비스'를 함께 비교 분석한다. 연도별로 재해들의 피해액을 확인하고 비교분석하고, 그에 따라 연도별 재난문자의 현황을 확인한다.

긴급재난문자가 발송되었던 시기의 자연재해상황과 피해 정도, 피해액과 긴급재난문자가 발송되지 않았던, 혹은 2016년도를 기준으로 삼았을 때 긴급재난문자의 효과는 16년도 이후가 더 클 것으로 예상된다. 구체적으로 서술하자면 발송 수의 증가로 인해 피해액이 점차 감소하거나, 피해액의 증가에 따라 문자의 발송 수가 증가할 것으로 예상된다.

또한 긴급재난문자가 발송되었던 자연재해와 발송되지 않았던 자연재해상황을 비교해보면 긴급재난문자의 발송이 재난 예방 및 대처에 있어 유의미한 효과가 있을 것으로 보인다.

<h3> 3. 데이터 획득 </h3>

두 API에서 가장 먼저 '자연재해 정보 조회 서비스'에서 제공하는 오픈 API를 이용하여 데이터 획득 과정을 진행했다. 공공데이터포털 사이트에서 해당 정보의 오픈 API 활용을 신청하여 End point를 받았으며, 홈페이지에서 제공하는 활용 가이드를 이용하여 사용하고자 하는 데이터만 가져오기로 했다. '자연재해 정보 조회 서비스'에서는 다섯 가지의 오퍼레이션을 제공하는데, 그 중에서도 '원인별 자연재해상황' 오퍼레이션을 이용하여 각 자연재해의 원인에 따른 연도별 자연재해 상황 정보를 조회하였다. '원인별 자연재해상황'에서는 크게 피해액, 피해개소수, 물량, 면적, 수 등의 다양한 지표를 제공했는데 그 중에서도 전체피해액을 중심으로 정보를 수집했다. 해당 오픈 API에서는 XML 형태의 데이터만 제공했기 때문에 마찬가지로 Beautiful Soup를 사용하여 데이터를 추출, 이후 딕셔너리 형태의 데이터로 저장한 후 **'원인명'**과 **'총피해액'**의 항목으로 구분했다.

이후 '재난상황전파 메시지정보 서비스'의 데이터 획득 과정 역시 동일하게 진행했다. CSV 형태로 정렬된 정보를 Pandas와 for 구문을 이용하여 리스트에 저장하고, 이를 다시 딕셔너리 형태의 변수에 저장했다. 여기서 수신일시의 경우 발송 시각과 월일까지 표기되어 있었는데, 연도별 분석에 있어서 필요한 정보는 발송된 연도이므로 주어진 수신일시에서 연도만 빼오는, **getYear 함수**를 작성하여 수신일시를 입력하면 문자수신년도를 출력하도록 만들었다. 이렇게 저장한 데이터 중 실질적으로 데이터 분석에 사용하는 항목은 '재난유형명'과 **'수신일시'**이다.


<h3> 4. 데이터 가공 </h3>

가장 먼저는 '자연재해 정보 조회 서비스'에서 연도별로 가장 피해금액이 큰 자연재해가 무엇인지 확인하기 위해 temp_Databox라는 이름의 딕셔너리형 변수를 이용해 각 연도별의 피해금액을 비교했다. Key 값을 피해액으로, Value 값을 그 피해액에 해당하는 자연재해의 원인으로 지정한 다음, 피해액을 담은 리스트를 sort 함수를 이용하여 정렬한 뒤, 가장 앞에 있는 피해액을 딕셔너리형 변수의 Key로 입력함으로써 해당 년도에서 어떤 재해가 가장 큰 피해액을 만들어냈는지 확인할 수 있었다.

이렇게 년도별로 가장 크게 피해를 입힌 재해를 또다시 maximum_list라는 리스트형 변수에 저장하여 1998년부터 2016년도까지의 해당 년도에서 가장 큰 피해액을 만들어낸 자연재해를 저장한다. 이후 Pandas 모듈의 unique() 함수와 비슷한 역할을 하는, 즉, 입력된 리스트에서 중복되는 값을 제거하고 중복된 값이 제거된 리스트를 돌려주는 **list_sorting 함수**를 만들어 list형 변수를 입력하면 list형 변수를 반환하도록 하였다.

maximum_list를 list_sorting 함수의 입력값으로 넣고 출력값을 maximum_sort 라는 리스트 변수에 저장하여 maximum_sort 변수에 자연재해의 종류가 담기도록 하였다. 그리고 maximum_number라는 리스트를 선언하고 for 구문을 이용하여 어떤 자연재해가 총 몇 년이나 가장 많은 피해액을 만들었는지 그 빈도수를 maximum_number에 저장한다.

이후에는 리스트의 값들 중에서 최대값을 찾아주는 **getmaximum 함수**를 만들었다. getmaximum 함수에 입력값으로 maximum_number을 입력하고, 출력된 결과물에 해당하는 index값을 maximum_sort에 입력함으로써 1998년부터 2016년도까지 발생한 자연재해들 중 가장 잦은 빈도수로 최대피해금액을 만든 자연재해가 **호우**임을 알게되었다.

따라서 연도별 호우피해금액을 Rain_totdmgamt_list에 저장하고 연도와 호우피해금액을 딕셔너리형 변수 Rain_DMG에 저장한 후, matplotlib 모듈을 이용하여 연도별 호우피해금액 현황을 꺾은선 그래프로 나타냈다. 또한 피해액이 점점 증가하는지, 감소하는지, 그 추세를 확인하기 위해 numpy 모듈의 polyfit 함수를 이용하여 그래프를 그렸다.

'재난상황전파 메시지정보 서비스'에서는 '재난유형명'에 따른 재난문자의 발신 수를 알아보고자 했다. msg_count 리스트를 이용해 각각 재난유형별 메시지의 개수를 리스트에 저장하고, 앞의 분석에서 이용했던 getmaximum 함수를 이용하여 어떤 재난유형이 가장 많은 발신 수를 기록했는지 알아보았다. 그 결과, 주어진 데이터에서 최다 발신 수를 기록한 재난의 유형은 '풍랑, 강풍' 이었다. 이에 주어진 데이터들을 Pandas를 이용하여 한 눈에 쉽게 볼 수 있도록 DataFrame에 저장하고, sort_values를 이용하여 내림차순으로 출력한 결과 호우는 두 번째로 문자가 많이 보내진 재난 유형임을 알게 되었다.

그러나 앞서 분석한 '자연재해 정보 조회 서비스'의 '원인별 자연재해상황' 오퍼레이션 분석을 통해 최대피해금액을 다수 내었던 재해가 '호우'임을 알게 되었으므로 '호우'의 연도별 문자 발송 현황에 대해 살펴보기로 했다.

리스트형 year_count 변수를 선언하여 재난유형명이 "호우"인 메시지의 발생년도를 모두 저장한 후, 앞서 분석에서 이용했던 list sorting 함수에 입력값으로 넣음으로써 발생년도의 종류를 year_sorting 리스트에 저장한다. 이후 for 구문을 이용하여 각 연도별 메시지의 개수를 year_count_msg 리스트에 저장한 후, DataFrame으로 나타내기 위해 clmy_msg라는 딕셔너리 변수를 선언, 이후 데이터프레임을 이용하여 연도별 호우로 인한 재난메시지의 발생 수를 나타내었다. 분석결과, 2019년의 데이터는 올해의 데이터이므로 제외하고 나온 2016년, 2017년, 2018년도의 발신메시지 수를 이용하기로 했다. matplotlib 모듈을 이용하여 2016년도부터 2018년도까지 호우로 인한 문자 발신 수를 막대그래프로 나타내었다.


<h3> 5. 분석 결과 도출 </h3>

'자연재해 정보 조회 서비스'에서 '원인별 자연재해상황' 오퍼레이션의 데이터 가공을 통해 1998년부터 2016년도까지 가장 많은 빈도수로 최다피해금액을 기록한 자연재해가 '호우'임을 알게 되었다. 그래프 분석 결과 호우피해금액은 해를 거듭할 수록 감소하는 추세임을 알게 되었다.

아래의 이미지는 matplotlib와 numpy 모듈을 이용하여 분석한 그래프의 모습이다.

[image]

또한 '재난상황전파 메시시정보 서비스'에서 얻은 정보를 분석하여 재난유형 중 '호우'의 연도별 문자 메시지 발신 수를 막대그래프로 나타낸 결과는 다음과 같다.

[image]

두 데이터의 겹치는 기간이 2016년도밖에 없기 때문에 명확한 상관관계를 규정하거나 동향 분석을 할 수는 없었으나 2016년도 이후의 호우 피해금액과 2016년도 이전의 발송메시지의 수는 예측할 수 있다. 1998년부터 2016년도까지, 계속해서 호우피해금액은 감소하는 추세기 때문에 이후에도 꾸준하게 감소했을 것으로 볼 수 있다. 또한 재난메시지의 경우, 2016년도의 데이터부터 존재하여 이전의 데이터를 분석할 수는 없었으나 3년 간의 동향을 보았을 때, 이전부터 꾸준히 발송 문자 수가 증가해왔으리라는 추측을 할 수 있다.


<h3> 6. 결론 </h3>

긴급재난문자 서비스가 2013년도부터 의무적으로 모든 LTE 스마트폰에 탑재되었다는 경우를 생각해보았을 때, 발송되는 메시지의 수는 계속해서 증가하고 있으며 호우 피해금액은 꾸준하게 감소하고 있다는 것을 보았을 때 둘 사이에 유의미한 상관관계가 존재한다고 볼 수 있다. 호우 피해 금액의 감소 원인이 단지 긴급재난문자로 인한 재난 예방에만 있다고 볼 수는 없겠지만, 긴급재난문자로 인한 예방이 호우 피해 금액 감소에 영향을 끼쳤다고는 볼 수 있을 것이다.

또한 재난문자가 서비스되지 않았던 예전에 비해 최근의 피해금액이 다소 적은, 즉 재난으로 인한 피해금액이 감소하는 추세를 보아 긴급재난문자는 재난 예방과 피해액 감소에 효과가 있으며 화재나 지진 등 예측할 수 없는 재난과는 달리 호우나 태풍 등 기상 관측으로 인해 예상할 수 있는 재난에 관해서는 피해액 감소의 효과가 있을 것으로 보인다. 또한 호우로 인한 재난문자의 수가 2016년와 2018년도를 비교했을 때, 2년 사이에 두 배 가까이 증가한 것으로 보아 확실히 2016년도 이후 재난문자가 더 자주 발송 되기 시작한 것으로 보인다.

겹치는 데이터가 부족하여 둘의 명확한 상관관계를 규정하거나 동향분석을 할 수는 없었으나 더 많은 기간의 데이터가 있었다면 명료한 관계성을 규정할 수 있을 것으로 보인다.


<h3> 7. 참고 문헌 </h3>

왕형준, "오픈 API를 통한 공공데이터 수집", 2018.3.28, https://medium.com/@whj2013123218/%EC%98%A4%ED%94%88-api%EB%A5%BC-%ED%86%B5%ED%95%9C-%EA%B3%B5%EA%B3%B5%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%88%98%EC%A7%91-e1dd0ad203b6

이원하, "11. 웹 페이지 크롤링", 2018.1.21, https://ericnjennifer.github.io/python_crawling/2018/01/21/PythonCrawling_Chapt12.html

민형기, 2017, 『파이썬으로 데이터 주무르기』, 비제이퍼블릭

박응용, 2016, 『Do it! 점프 투 파이썬』, 이지스퍼블리싱


<h3> 8. 별첨1 </h3>

(1) DataCollect1_XML.ipynb : '자연재해 정보 조회 서비스'의 '원인별 자연재해상황' 오퍼레이션을 통해 XML에서 데이터를 수집하는 과정

(2) DataCollect2_CSV.ipynb : '재난상황전파 메시지정보 서비스'의 CSV 파일에서 데이터를 수집하는 과정


<h3> 9. 별첨2 </h3>

(1) DataAnalysis1.ipynb : '자연재해 정보 조회 서비스'에서 얻은 데이터로 최다 피해금액 발생 재해의 종류를 찾아내고, matplotlib 모듈을 이용하여 그래프로 나타내는 과정

(2) DataAnalysis2.ipynb :'재난상황전파 메시지정보 서비스'에서 얻은 데이터로 최다 문자 발신 재해의 종류를 찾아내고, (1)의 분석을 통해 '호우'의 문자 발신 수를 연도별로 나타내고 분석하는 과정


<h3> 10. 별첨3 </h3>
Function_List.ipynb : list_sorting, getYear, getmaximum 함수 등을 담은 파일.
